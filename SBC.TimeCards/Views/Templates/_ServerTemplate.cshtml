@model SBC.TimeCards.Service.Models.Templates.TemplateViewModel
@{
    Layout = "~/Views/Templates/_TemplateLayout.cshtml";
}
<h3>Server</h3>
@Html.EditorFor(x => x.ServerName)
<div id="networks">
    <a href="javascript:void(0)" onclick="addNetwork(@Model.Id,this)"> add network</a>
    @*@foreach (var item in Model.Networks)
    {
        Html.RenderPartial("_ServerNetworkTemplate", item, new ViewDataDictionary
        {
            TemplateInfo = new System.Web.Mvc.TemplateInfo { HtmlFieldPrefix = "Networks[]" }
        });
    }*@
    @for (int i = 0; i < Model.Networks.Count; i++)
    {
        Html.RenderPartial("_ServerNetworkTemplate", Model.Networks[i], new ViewDataDictionary
        {
            TemplateInfo = new System.Web.Mvc.TemplateInfo { HtmlFieldPrefix = $"Networks[{i}]" }
        });
    }
</div>
<div id="disks">
    <a href="javascript:void(0)" onclick="addDisk(@Model.Id,this)"> add Disk</a>


    @*@foreach (var item in Model.Disks)
    {
        Html.RenderPartial("_ServerDiskTemplate", item, new ViewDataDictionary
        {
            TemplateInfo = new System.Web.Mvc.TemplateInfo { HtmlFieldPrefix = "Disks" }
        });
    }*@
    @for(int i = 0; i < Model.Disks.Count; i++)
    {
        Html.RenderPartial("_ServerDiskTemplate", Model.Disks[i], new ViewDataDictionary
        {
            TemplateInfo = new System.Web.Mvc.TemplateInfo { HtmlFieldPrefix = $"Disks[{i}]" }
        });
    }
</div>